script: |
  zq -P -t '( sort a ; sort c ) | join a=b hit=sb | sort a' A.tzng B.tzng

inputs:
  - name: A.tzng
    data: |
      #0:record[a:int32,sa:string]
      0:[10;a0;]
      0:[20;a1;]
      0:[30;a2;]
      0:[40;a3;]
  - name: B.tzng
    data: |
      #0:record[c:int32,sb:string]
      0:[20;b20;]
      0:[40;b40;]
      0:[60;b60;]
      0:[40;b40v2;]
      0:[20;b20v2;]

outputs:
  - name: stdout
    data: |
      #0:record[a:int32,sa:string]
      0:[10;a0;]
      0:[20;a1;]
      0:[30;a2;]
      0:[40;a3;]
