script: |
  source service.sh
  zed create -q POOL
  zed load -q -use POOL@main a.zson
  zed branch -q -use POOL@main child
  zed load -q -use POOL@child b.zson
  zed query -z "from POOL | sort ."
  echo ===
  zed merge -q -use POOL@child main
  zed query -z "from POOL | sort ."

inputs:
  - name: a.zson
    data: |
      {a:1}
  - name: b.zson
    data: |
      {b:1}
  - name: service.sh
    source: service.sh

outputs:
  - name: stdout
    data: |
      {a:1}
      ===
      {a:1}
      {b:1}
