package sort

import (
	"github.com/mccanne/zq/pkg/test"
)

var Internal1 = test.Internal{
	Name:         "sort1",
	Query:        "* | sort x",
	Input:        test.Trim(in1),
	OutputFormat: "zng",
	Expected:     test.Trim(out1),
}

const in1 = `
#0:record[x:set[addr]]
0:[[192.168.1.10;192.168.1.2;192.179.1.1;]]
0:[[192.168.1.10;192.168.1.2;]]
`

const out1 = `
#0:record[x:set[addr]]
0:[[192.168.1.10;192.168.1.2;]]
0:[[192.168.1.10;192.168.1.2;192.179.1.1;]]
`

var Internal2 = test.Internal{
	Name:         "sort2",
	Query:        "* | sort x",
	Input:        test.Trim(in2),
	OutputFormat: "zng",
	Expected:     test.Trim(out2),
}

const in2 = `
#0:record[x:set[addr]]
0:[[192.168.1.10;192.168.1.2;]]
0:[[192.168.1.10;192.168.0.2;]]
`

const out2 = `
#0:record[x:set[addr]]
0:[[192.168.1.10;192.168.0.2;]]
0:[[192.168.1.10;192.168.1.2;]]
`

const in3 = `
#0:record[TTLs:vector[interval],count:count]
0:[[0;]18;]
0:[[0;0;]4;]
0:[[0;0;0;]3;]
0:[[0;0;0;0;]1;]
0:[[0;0;0;0;0;]6;]
0:[[0;0;0;0;0;0;]4;]
0:[[0;0;0;0;0;0;0;]7;]
0:[[0;0;0;0;0;0;0;0;]9;]
0:[[0;2;2;2;2;2;2;2;2;]3;]
0:[[0;270;]1;]
0:[[0;40;40;40;40;40;40;]1;]
0:[[0;260;]6;]
0:[[0;39;39;39;]1;]
0:[[0;46;46;46;46;46;46;]1;]
0:[[0;53;]1;]
0:[[0;34;]1;]
0:[[0;418;]1;]
0:[[0;60;]1;]
0:[[0;221;221;221;221;221;221;221;221;]1;]
0:[[0;100;]1;]
0:[[0;24;]2;]
0:[[0;2917;]1;]
0:[[0;608;]2;]
0:[[0;14799;1;]1;]
0:[[0;3094;5;]1;]
0:[[0;2961;]1;]
`

const out3 = `
#0:record[TTLs:vector[interval],count:count]
0:[[0;]18;]
0:[[0;0;]4;]
0:[[0;0;0;]3;]
0:[[0;0;0;0;]1;]
0:[[0;0;0;0;0;]6;]
0:[[0;0;0;0;0;0;]4;]
0:[[0;0;0;0;0;0;0;]7;]
0:[[0;0;0;0;0;0;0;0;]9;]
0:[[0;2;2;2;2;2;2;2;2;]3;]
0:[[0;24;]2;]
0:[[0;34;]1;]
0:[[0;39;39;39;]1;]
0:[[0;40;40;40;40;40;40;]1;]
0:[[0;46;46;46;46;46;46;]1;]
0:[[0;53;]1;]
0:[[0;60;]1;]
0:[[0;100;]1;]
0:[[0;221;221;221;221;221;221;221;221;]1;]
0:[[0;260;]6;]
0:[[0;270;]1;]
0:[[0;418;]1;]
0:[[0;608;]2;]
0:[[0;2917;]1;]
0:[[0;2961;]1;]
0:[[0;3094;5;]1;]
0:[[0;14799;1;]1;]
`

var Internal3 = test.Internal{
	Name:         "sort3",
	Query:        "* | sort TTLs",
	Input:        test.Trim(in3),
	OutputFormat: "zng",
	Expected:     test.Trim(out3),
}
