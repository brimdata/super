script: |
  ! zq -I duplicate.zed -
  ! zq -I call-non-func.zed -
  ! zq -I wrong-args.zed -

inputs:
  - name: duplicate.zed
    data: |
      func dup(n): (n+1)
      func dup(n): (n+2)
      yield dup(this)
  - name: call-non-func.zed
    data: |
      const notAFunc = "foo"
      yield notAFunc(this)
  - name: wrong-args.zed
    data: |
      func f(a,b): (a+b)
      yield f(this)

outputs:
  - name: stderr
    data: |
      symbol "dup" redefined (duplicate.zed: line 2, column 1):
      func dup(n): (n+2)
      ~~~~~~~~~~~~~~~~~
      definition is not a function type: *dag.Literal (call-non-func.zed: line 2, column 7):
      yield notAFunc(this)
            ~~~~~~~~~~~~~~
      call expects 2 argument(s) (wrong-args.zed: line 2, column 7):
      yield f(this)
            ~~~~~~~
