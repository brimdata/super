script: |
  ! super -I duplicate.spq -
  ! super -I call-non-func.spq -
  ! super -I wrong-args.spq -
  ! super -I call-query-err.spq -

inputs:
  - name: duplicate.spq
    data: |
      fn dup(n): (n+1)
      fn dup(n): (n+2)
      values dup(this)
  - name: call-non-func.spq
    data: |
      const notAFunc = "foo"
      values notAFunc(this)
  - name: wrong-args.spq
    data: |
      fn f(a,b): (a+b)
      values f(this)
  - name: call-query-err.spq
    data: |
      let q = (values 1)
      values q(this)

outputs:
  - name: stderr
    data: |
      symbol "dup" redefined in duplicate.spq at line 2, column 4:
      fn dup(n): (n+2)
         ~~~
      "notAFunc" is not a function in call-non-func.spq at line 2, column 8:
      values notAFunc(this)
             ~~~~~~~~~~~~~~
      "f": expected 2 params but called with 1 in wrong-args.spq at line 2, column 8:
      values f(this)
             ~~~~~~~
      "q" is not a function in call-query-err.spq at line 2, column 8:
      values q(this)
             ~~~~~~~
 