script: |
  zq -t "collect(x) by key with -limit 1 | sort ." in.tzng

inputs:
  - name: in.tzng
    data: |
      #0:record[key:string,x:int32]
      0:[a;1;]
      0:[a;-1;]
      0:[b;2;]
      0:[b;1;]
      0:[a;8;]
      0:[b;1;]

outputs:
  - name: stdout
    data: |
      #0:record[key:string,collect:array[int32]]
      0:[a;[1;-1;8;]]
      0:[b;[2;1;1;]]
