# 13B is enough to buffer the first record in memory but not the second.
script: |
  super -s -fusemem 13B -c fuse in.sup

vector: false

inputs:
  - name: in.sup
    data: |
      {a:"hello",b:"world"}
      {b:"goodnight",c:"gracie"}
      {a:null,b:null,c:null}

outputs:
  - name: stderr
    data: ""
  - name: stdout
    data: |
      {a?:"hello"::(string|null),b:"world"::(string|null),c?:_::(string|null)}
      {a?:_::(string|null),b:"goodnight"::(string|null),c?:"gracie"::(string|null)}
      {a?:null::(string|null),b:null::(string|null),c?:null::(string|null)}
