spq: |
  type string_named=string
  type union=int64|string|string_named
  values cast(this, <{a:union}>)

vector: true

input: |
  {a:1}
  {a:"hello"}
  {a:"goodbye"::=string_named}
  {a:null}

output: |
  {a:1::(union=int64|string|(string_named=string))}
  {a:"hello"::(union=int64|string|(string_named=string))}
  {a:"goodbye"::=string_named::(union=int64|string|string_named)}
  {a:error({message:"cannot cast to int64|string|string_named=string",on:null})}
