spq: |
  values cast(this, <{a:[ip],b:[{b:ip}]}>)

vector: true

input: |
  {a:null,b:null}
  {a:|[]|::|[string]|,b:|[]|::|[{b:string}]|}
  {a:|["1.1.1.1","2.2.2.2"]|,b:|[{b:"1.1.1.1"},{b:"2.2.2.2"}]|}
  {a:|["1.1.1.1"]|,b:|[{b:null},{b:"2.2.2.2"}]|}
  {a:|[null,"1.1.1.1","2"]|,b:|[{b:null},{b:"1.1.1.1"},{b:"2"}]|}

output: |
  {a:error({message:"cannot cast to [ip]",on:null}),b:error({message:"cannot cast to [{b:ip}]",on:null})}
  {a:[]::[ip],b:[]::[{b:ip}]}
  {a:[1.1.1.1,2.2.2.2],b:[{b:1.1.1.1},{b:2.2.2.2}]}
  {a:[1.1.1.1],b:[{b:error({message:"cannot cast to ip",on:null})},{b:2.2.2.2}]}
  {a:[error({message:"cannot cast to ip",on:"2"}),error({message:"cannot cast to ip",on:null}),1.1.1.1],b:[{b:error({message:"cannot cast to ip",on:"2"})},{b:error({message:"cannot cast to ip",on:null})},{b:1.1.1.1}]}
