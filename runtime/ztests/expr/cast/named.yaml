spq: cast(this, "named")

vector: true

input: |
  {x:1}
  {x:2}
  "foo"
  "bar"
  "baz"::=a
  null
  error("missing")
  error("foo")

output: |
  {x:1}::=named
  {x:2}::=named
  "foo"::=named
  "bar"::=named
  "baz"::=named
  null::=named
  error("missing")
  error("foo")

---

# Test casting to a named type keeps the named type.
spq: |
  type foo=string
  values {str:cast(this, "foo"), named:cast(this, foo)}

vector: true

input: |
  1
  2

output: |
  {str:1::=foo,named:"1"::=foo}
  {str:2::=foo,named:"2"::=foo}
