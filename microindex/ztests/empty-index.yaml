script: |
  # b isn't in the input so this creates a valid microindex that is empty
  microindex create -o index.zng -k b in.zson
  zq -z index.zng
  echo ===
  microindex lookup iz -k 0 index.zng
  echo ===

inputs:
  - name: in.zson
    data: |
      {a:"hello"}

outputs:
  - name: stdout
    data: |
      {magic:"microindex",version:2 (int32),descending:false,child_field:"",frame_thresh:32768 (int32),sections:null (0=([int64])),keys:null (1=({key:null}))} (=2)
      ===
      ===
